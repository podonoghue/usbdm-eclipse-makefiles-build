<?xml version='1.0' encoding='windows-1252'?>
<Wix xmlns='http://schemas.microsoft.com/wix/2006/wi'>
   <?define ECLIPSE_VER="CW_10.5" ?> 
   <?define CW_VER_UC="V10.5" ?> 
   <?define CW_Ver="v10.5" ?> 

   <?define Manufacturer="pgo" ?>
   <?define ProductName="USBDM" ?>
   <!--?define ProductVersion="4.9.0" ?-->                        <!-- Defined on command line -->
   <?define ProductCode="17b2306b-6310-4c23-8e96-fdac4c922b3d" ?> <!-- Don't change        -->
   <?define UpgradeCode="9bd8ce56-449a-4787-9c20-feb701416411" ?> <!-- Don't change        -->
   <?define InfoURL="http://usbdm.sourceforge.net" ?>
   
   <?define DescSRecord="Freescale S-Record binary file" ?>
   <?define ExplorerMenuOpen="Open" ?>

   <?define P2Application="org.eclipse.equinox.p2.director" ?>
   <?define FeatureGroup="net.sourceforge.usbdm.cw.feature.feature.group" ?>

   <!-- ?define WxWidgetsVer="295u" ?-->

   <Fragment>
      <!--======================================================
               Directory structure
      =======================================================-->
      <DirectoryRef Id='TARGETDIR'>
         <!-- Codewarrior for MCU 10.x directory structure-->
         <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)" Name="NotFoundCW_10_$(var.CW_VER_UC)">
            <Directory Id="D.ECLIPSE_$(var.ECLIPSE_VER)_CDT" Name="eclipse">
               <Directory Id="D.CW_$(var.CW_VER_UC)_EclipseDropins" Name="dropins"/>
               <Directory Id="D.CW_$(var.CW_VER_UC)_EclipsePlugins" Name="plugins"/>
            </Directory>
            <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU" Name="MCU" >
               <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_lib" Name="lib" >
                  <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_lib_wizard_data" Name="wizard_data" >
                     <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_lib_wizard_data_launch_config" Name="launch_config" />
                  </Directory>
               </Directory>
               <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin" Name="bin" >
                  <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins" Name="plugins" >
                     <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support" Name="support" >
                        <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_ARM" Name="ARM" >
                           <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_ARM_gdi" Name="gdi" />
                        </Directory>
                        <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_Coldfire" Name="ColdFire" >
                           <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_Coldfire_gdi" Name="gdi" />
                        </Directory>
                        <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_HC08" Name="HC08" >
                           <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_HC08_gdi" Name="gdi" />
                        </Directory>
                        <!-- Added V10.2 -->
                        <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_DSC" Name="DSC" >
                           <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_DSC_gdi" Name="gdi" />
                        </Directory>
                        <Directory Id="CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_S12Z" Name="S12Z" >
                           <Directory Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_S12Z_gdi" Name="gdi" />
                        </Directory>
                     </Directory>
                  </Directory>
               </Directory>
            </Directory>
         </Directory>
      </DirectoryRef>
     
      <!--======================================================
               Registry searches
      =======================================================-->
     
      <!-- Check for presence of CW for MCU V10.x -->
      <Property Id="P.CW_FOR_MCU_$(var.CW_VER_UC)">
         <RegistrySearch Id="Rs.CW_FOR_MCU_$(var.CW_VER_UC)"
                    Root="HKLM"
                    Win64="no"
                    Key="SOFTWARE\Freescale\CodeWarrior\Product Versions\CW for MCU $(var.CW_Ver)"
                    Name="Path"
                    Type="directory" />
      </Property>

      <!-- Modify default install path for CodeWarrior Development Studio for MCU V10.x -->
      <Property Id="D.CW_FOR_MCU_$(var.CW_VER_UC)">
         <RegistrySearchRef Id="Rs.CW_FOR_MCU_$(var.CW_VER_UC)" />
      </Property>
      
      <!--=================================================================================
           Actions
      ==================================================================================-->
      <!-- Install Eclipse plugins -->
      <CustomAction
         Id="Ca.CreateInstallPluginsCommand_$(var.ECLIPSE_VER)"
         Property="Ca.InstallPluginsCommand_$(var.ECLIPSE_VER)"
         Value='&quot;[D.ECLIPSE_$(var.ECLIPSE_VER)_CDT]cwidec&quot; -nosplash -application $(var.P2Application) -repository &quot;file:/[D.UpdateSite]\&quot; -installIU $(var.FeatureGroup)'
         Execute="immediate"/>
         
      <CustomAction
         Id="Ca.CreateUnInstallPluginsCommand_$(var.ECLIPSE_VER)"
         Property="Ca.UnInstallPluginsCommand_$(var.ECLIPSE_VER)"
         Value='&quot;[D.ECLIPSE_$(var.ECLIPSE_VER)_CDT]cwidec&quot; -nosplash -application $(var.P2Application) -uninstallIU $(var.FeatureGroup)'
         Execute="immediate"/>
         
      <CustomAction Id="Ca.InstallPluginsCommand_$(var.ECLIPSE_VER)"   BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>
      <CustomAction Id="Ca.UnInstallPluginsCommand_$(var.ECLIPSE_VER)" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>

      <!-- Patch Eclipse New Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseMergeNewProjectWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.MergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.projectwizard_1.*.*.*\\&quot; plugin.xml &quot;[D.WizardPatchData]PatchNewWizardPlugin_$(var.CW_VER_UC).xml&quot; "
         Execute="immediate"/>
      <CustomAction Id="Ca.MergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"   BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>

      <!-- Unpatch Eclipse New Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseUnMergeNewProjectWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.UnMergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.projectwizard_1.*.*.*\\&quot; plugin.xml.original"
         Execute="immediate"/>
      <CustomAction Id="Ca.UnMergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>


      <!-- Ver 10.3 -->
      <!-- Patch Eclipse ELF Importer Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseMergeElfImporterWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.MergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)"  
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.elfimporter_10.*.*.*\\&quot; plugin.xml &quot;[D.WizardPatchData]PatchElfImporterWizardPlugin_$(var.CW_VER_UC).xml&quot; "
         Execute="immediate"/>
      <CustomAction Id="Ca.MergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)"   BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>

      <!-- Unpatch Eclipse ELF Importer Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseUnMergeElfImporterWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.UnMergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)"
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.elfimporter_10.*.*.*\\&quot; plugin.xml.original"
         Execute="immediate"/>
      <CustomAction Id="Ca.UnMergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>

      <!-- Patch Eclipse MQX Lite New Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseMergeMQXLiteNewProjectWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.MergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.mqxlite.projectwizard_1.*.*.*\\&quot; plugin.xml &quot;[D.WizardPatchData]PatchMQXLiteNewProjectWizard_$(var.CW_VER_UC).xml&quot; "
         Execute="immediate"/>
      <CustomAction Id="Ca.MergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"   BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>

      <!-- Unpatch Eclipse MQX Lite New Project Wizard XLM-->
      <CustomAction
         Id="Ca.CreateEclipseUnMergeMQXLiteNewProjectWizardCommand_$(var.CW_VER_UC)"
         Property="Ca.UnMergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"
         Value="&quot;[INSTALLDIR]mergeXml.exe&quot; &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.mqxlite.projectwizard_1.*.*.*\\&quot; plugin.xml.original"
         Execute="immediate"/>
      <CustomAction Id="Ca.UnMergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="ignore" Impersonate="no"/>


      <InstallExecuteSequence>
          <Custom Action="Ca.CreateInstallPluginsCommand_$(var.ECLIPSE_VER)"   After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.CreateUnInstallPluginsCommand_$(var.ECLIPSE_VER)" After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
          
          <!-- These actions set Properties used by later actions -->
          <Custom Action="Ca.CreateEclipseMergeNewProjectWizardCommand_$(var.CW_VER_UC)"           After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.CreateEclipseUnMergeNewProjectWizardCommand_$(var.CW_VER_UC)"         After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
             <!-- Ver 10.3 -->                                                                     
          <Custom Action="Ca.CreateEclipseMergeElfImporterWizardCommand_$(var.CW_VER_UC)"          After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.CreateEclipseUnMergeElfImporterWizardCommand_$(var.CW_VER_UC)"        After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
          <Custom Action="Ca.CreateEclipseMergeMQXLiteNewProjectWizardCommand_$(var.CW_VER_UC)"    After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.CreateEclipseUnMergeMQXLiteNewProjectWizardCommand_$(var.CW_VER_UC)"  After="CostFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
          

          <!-- These actions patch or restore the various Codewarrior XML files -->
          <Custom Action="Ca.MergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"                 After="PublishProduct"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.UnMergeNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"               Before="RemoveFiles">  <![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
             <!-- Ver 10.3 -->                                                                     
          <Custom Action="Ca.MergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)"                After="PublishProduct"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.UnMergeElfImporterWizardEclipseCommand_$(var.CW_VER_UC)"              Before="RemoveFiles">  <![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>
          <Custom Action="Ca.MergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"          After="PublishProduct"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.UnMergeMQXLiteNewProjectWizardEclipseCommand_$(var.CW_VER_UC)"        Before="RemoveFiles">  <![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>

          <Custom Action="Ca.InstallPluginsCommand_$(var.ECLIPSE_VER)"   Before="InstallFinalize"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles>2]]></Custom>
          <Custom Action="Ca.UnInstallPluginsCommand_$(var.ECLIPSE_VER)" Before="RemoveFiles"><![CDATA[$C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles=2]]></Custom>

      </InstallExecuteSequence>
      
      <!--======================================================
               Components
      =======================================================-->
      <!-- 
           USBDM Marker
      -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).Marker' Guid='229c556a-8d6d-4b28-924b-750c8eef0a7e' >
            <File Id='CW_FOR_MCU_$(var.CW_VER_UC)_Marker' DiskId='1' Source='USBDM_Installed.txt' KeyPath='yes' />
         </Component>
      </DirectoryRef>
      
      <!-- CW Eclipse RS08/HCS08 support -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_HC08_gdi">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).HCSFiles' Guid='72527c94-8e29-4014-a272-9fb86f45521b'>
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_1'   DiskId='1' Source='$(var.SrcDir)\bin\libgcc_s_dw2-1.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_2'   DiskId='1' Source='$(var.SrcDir)\bin\libstdc++-6.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_5'   DiskId='1' Source='$(var.SrcDir)\bin\libxerces-c-3-1.dll' />
         
            <!--
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_3'   DiskId='1' Source='$(var.SrcDir)\bin\wxbase$(var.WxWidgetsVer)_gcc_custom.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_4'   DiskId='1' Source='$(var.SrcDir)\bin\wxmsw$(var.WxWidgetsVer)_core_gcc_custom.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_6'   DiskId='1' Source='$(var.SrcDir)\bin\tcl85.dll' />
            -->
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_10'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm.4.dll'/>
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_10d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-debug.4.dll' />
            <!--
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_11'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_11d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc-debug.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_12'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_12d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl-debug.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_13'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_13d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin-debug.4.dll' />
            -->
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_14'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_14d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system-debug.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_15'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_15d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database-debug.4.dll' />
            <!--
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_20'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-hcs08.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_20d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-hcs08-debug.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_21'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-rs08.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_21d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-rs08-debug.4.dll' />
            -->
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_30'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-hcs08.4.dll' KeyPath='yes' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_30d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-hcs08-debug.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_31'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-rs08.4.dll' />
            <File Id='EclipseHCSFiles_$(var.CW_VER_UC)_31d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-rs08-debug.4.dll' />
         </Component>
      </DirectoryRef>

      <!-- CW Eclipse Coldfire V1/Vx support -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_Coldfire_gdi">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).CFFiles' Guid='537c28c5-152b-401f-a137-88b1f5529ac4' >
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_1'   DiskId='1' Source='$(var.SrcDir)\bin\libgcc_s_dw2-1.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_2'   DiskId='1' Source='$(var.SrcDir)\bin\libstdc++-6.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_5'   DiskId='1' Source='$(var.SrcDir)\bin\libxerces-c-3-1.dll' />
            
            <!--
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_3'   DiskId='1' Source='$(var.SrcDir)\bin\wxbase$(var.WxWidgetsVer)_gcc_custom.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_4'   DiskId='1' Source='$(var.SrcDir)\bin\wxmsw$(var.WxWidgetsVer)_core_gcc_custom.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_6'   DiskId='1' Source='$(var.SrcDir)\bin\tcl85.dll' />
            -->

            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_10'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm.4.dll'/>
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_10d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-debug.4.dll' />
            <!--
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_11'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_11d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc-debug.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_12'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_12d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl-debug.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_13'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_13d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin-debug.4.dll' />
            -->
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_14'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_14d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system-debug.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_15'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_15d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database-debug.4.dll' />
            <!--
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_20'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-cfv1.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_20d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-cfv1-debug.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_21'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-cfvx.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_21d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-cfvx-debug.4.dll' />
            -->
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_30'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-cfv1.4.dll' KeyPath='yes' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_30d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-cfv1-debug.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_31'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-cfvx.4.dll' />
            <File Id='EclipseCFFiles_$(var.CW_VER_UC)_31d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-cfvx-debug.4.dll' />
         </Component>
      </DirectoryRef>

      <!-- CW Eclipse ARM support -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_ARM_gdi">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).ArmFiles' Guid='e6e34379-b5a4-4534-93b2-dfa018adc376' >
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_1'   DiskId='1' Source='$(var.SrcDir)\bin\libgcc_s_dw2-1.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_2'   DiskId='1' Source='$(var.SrcDir)\bin\libstdc++-6.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_5'   DiskId='1' Source='$(var.SrcDir)\bin\libxerces-c-3-1.dll' />
            <!--
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_3'   DiskId='1' Source='$(var.SrcDir)\bin\wxbase$(var.WxWidgetsVer)_gcc_custom.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_4'   DiskId='1' Source='$(var.SrcDir)\bin\wxmsw$(var.WxWidgetsVer)_core_gcc_custom.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_6'   DiskId='1' Source='$(var.SrcDir)\bin\tcl85.dll' />
            -->
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_10'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm.4.dll'/>
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_10d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-debug.4.dll' />
            <!--
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_11'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_11d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc-debug.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_12'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_12d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl-debug.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_13'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_13d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin-debug.4.dll' />
            -->
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_14'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_14d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system-debug.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_15'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_15d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database-debug.4.dll' />
            <!--
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_20'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-arm.4.dll' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_20d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-arm-debug.4.dll' />
            -->
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_30'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-arm.4.dll' KeyPath='yes' />
            <File Id='EclipseARMFiles_$(var.CW_VER_UC)_30d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-arm-debug.4.dll' />
         </Component>
      </DirectoryRef>

      <!-- CW Eclipse DSC support V10.2 -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_DSC_gdi">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).DscFiles' Guid='643a0bf2-82e9-48cd-b0ed-e58686420677' >
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_1'   DiskId='1' Source='$(var.SrcDir)\bin\libgcc_s_dw2-1.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_2'   DiskId='1' Source='$(var.SrcDir)\bin\libstdc++-6.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_5'   DiskId='1' Source='$(var.SrcDir)\bin\libxerces-c-3-1.dll' />
            <!--
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_3'   DiskId='1' Source='$(var.SrcDir)\bin\wxbase$(var.WxWidgetsVer)_gcc_custom.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_4'   DiskId='1' Source='$(var.SrcDir)\bin\wxmsw$(var.WxWidgetsVer)_core_gcc_custom.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_6'   DiskId='1' Source='$(var.SrcDir)\bin\tcl85.dll' />
            -->
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_10'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm.4.dll'/>
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_10d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-debug.4.dll' />
            <!--
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_11'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_11d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc-debug.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_12'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_12d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl-debug.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_13'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_13d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin-debug.4.dll' />
            -->
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_14'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_14d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system-debug.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_15'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_15d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database-debug.4.dll' />
            <!--
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_20'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-dsc.4.dll' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_20d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-dsc-debug.4.dll' />
            -->
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_30'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-dsc.4.dll' KeyPath='yes' />
            <File Id='EclipseDSCFiles_$(var.CW_VER_UC)_30d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-dsc-debug.4.dll' />
         </Component>
      </DirectoryRef>

      <!-- CW Eclipse S12Z support V10.2 -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_bin_plugins_support_S12Z_gdi">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).S12ZFiles' Guid='ce5c4a7d-e7d7-4aa5-9bdf-7e2e4dc8e764' >
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_1'   DiskId='1' Source='$(var.SrcDir)\bin\libgcc_s_dw2-1.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_2'   DiskId='1' Source='$(var.SrcDir)\bin\libstdc++-6.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_5'   DiskId='1' Source='$(var.SrcDir)\bin\libxerces-c-3-1.dll' />
            <!--
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_3'   DiskId='1' Source='$(var.SrcDir)\bin\wxbase$(var.WxWidgetsVer)_gcc_custom.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_4'   DiskId='1' Source='$(var.SrcDir)\bin\wxmsw$(var.WxWidgetsVer)_core_gcc_custom.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_6'   DiskId='1' Source='$(var.SrcDir)\bin\tcl85.dll' />
            -->
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_10'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm.4.dll'/>
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_10d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-debug.4.dll' />
            <!--
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_11'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_11d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-dsc-debug.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_12'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_12d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-tcl-debug.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_13'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_13d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-wx-plugin-debug.4.dll' />
            -->
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_14'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_14d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-system-debug.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_15'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_15d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-device-database-debug.4.dll' />
            <!--
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_20'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-s12z.4.dll' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_20d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-programmer-s12z-debug.4.dll' />
            -->
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_30'  DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-s12z.4.dll' KeyPath='yes' />
            <File Id='EclipseS12ZFiles_$(var.CW_VER_UC)_30d' DiskId='1' Source='$(var.SrcDir)\bin\usbdm-gdi-s12z-debug.4.dll' />
         </Component>
      </DirectoryRef>

      <!-- CW Eclipse launch configartions support -->
      <DirectoryRef Id="D.CW_FOR_MCU_$(var.CW_VER_UC)_MCU_lib_wizard_data_launch_config">
         <Component Id='C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles' Guid='9adcc3fa-45a1-400f-824e-cf5f661ed8fd' >
            <File Id='EclipseLaunchFiles1_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_arm.xml'     KeyPath='yes' />
            <File Id='EclipseLaunchFiles2_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_cfv1.xml' />
            <File Id='EclipseLaunchFiles3_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_cfvx.xml' />
            <File Id='EclipseLaunchFiles4_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_hcs08.xml' />
            <File Id='EclipseLaunchFiles5_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_rs08.xml' />
             <!-- Ver 10.2 -->
            <File Id='EclipseLaunchFiles6_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_dsc.xml' />
            <File Id='EclipseLaunchFiles7_$(var.CW_VER_UC)' DiskId='1' Source='$(var.SrcDir)\LaunchConfig\usbdm_s12z.xml' />
             <!--    -->
         </Component>
      </DirectoryRef>

      <!-- Patch Codewarrior Menu folder and shortcuts -->
      <DirectoryRef Id="D.ProgramMenuPatchDir">
         <Component Id='C.PatchCodewarriorWizardsMenu_$(var.CW_VER_UC)' Guid='*'>
            <RegistryValue Root='HKCU' Key="Software\$(var.Manufacturer)\$(var.ProductName)"
                           Type='string' Name='PatchCodewarriorWizardsMenu_MCU_10.$(var.CW_VER_UC)' Value="" KeyPath='yes' />
            <Shortcut Id="Sc.PatchCW_V10_NewWizard_$(var.CW_VER_UC)" 
               Name="Modify CW for MCU $(var.CW_VER_UC) New Project Wizard"
               Target="[INSTALLDIR]mergeXml.exe"
               Description="Adds USBDM targets to CW for MCU 10.$(var.CW_VER_UC) New Project Wizard"
               WorkingDirectory='INSTALLDIR' Icon="ChipIcon.ico" IconIndex="0" Advertise="no" 
               Arguments="-p &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.projectwizard_1.*.*.*\\&quot; &quot;plugin.xml&quot; &quot;[D.WizardPatchData]PatchNewWizardPlugin_$(var.CW_VER_UC).xml&quot;"/>
            <Shortcut Id="Sc.PatchCW_V10_ChangeWizard_$(var.CW_VER_UC)" 
               Name="Modify CW for MCU $(var.CW_VER_UC) ELF Importer Wizard"
               Target="[INSTALLDIR]mergeXml.exe"
               Description="Adds USBDM targets to CW for MCU $(var.CW_VER_UC) ELF Importer Project Wizard"
               WorkingDirectory='INSTALLDIR' Icon="ChipIcon.ico" IconIndex="0" Advertise="no" 
               Arguments="-p &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.elfimporter_10.*.*.*\\&quot; &quot;plugin.xml&quot; &quot;[D.WizardPatchData]PatchElfImporterWizardPlugin_$(var.CW_VER_UC).xml&quot;"/>
            <Shortcut Id="Sc.PatchCW_V10_MQXLiteNewWizard_$(var.CW_VER_UC)" 
               Name="Modify CW for MCU $(var.CW_VER_UC) MQX Lite New Project Wizard"
               Target="[INSTALLDIR]mergeXml.exe"
               Description="Adds USBDM targets to CW for MCU 10.$(var.CW_VER_UC) MQX Lite New Project Wizard"
               WorkingDirectory='INSTALLDIR' Icon="ChipIcon.ico" IconIndex="0" Advertise="no" 
               Arguments="-p &quot;[D.CW_$(var.CW_VER_UC)_EclipsePlugins]com.freescale.mcu.mqxlite.projectwizard_1.*.*.*\\&quot; &quot;plugin.xml&quot; &quot;[D.WizardPatchData]PatchMQXLiteNewProjectWizard_$(var.CW_VER_UC).xml&quot;"/>
            <Shortcut Id="Sc.RefreshCodewarrior_$(var.CW_VER_UC)"
               Name="Refresh Codewarrior $(var.CW_VER_UC) Configuration"
               Target="[D.ECLIPSE_$(var.ECLIPSE_VER)_CDT]cwide.exe"
               Description="Causes Codewarrior Eclipse to re-initialise its configuration cache." 
               WorkingDirectory='D.ECLIPSE_$(var.ECLIPSE_VER)_CDT' Advertise="no" 
               Arguments="-clean -initialize" />
         </Component>
      </DirectoryRef>

      <Feature Id='F.CW_FOR_MCU_$(var.CW_VER_UC)'
            Title='MCU $(var.CW_VER_UC)'
            Description="USBDM support for CW for MCU $(var.CW_VER_UC)."
            ConfigurableDirectory="D.CW_FOR_MCU_$(var.CW_VER_UC)"
            AllowAdvertise="no"
            Level='100'>
         <Condition Level='1'>
            <![CDATA[Installed OR P.CW_FOR_MCU_$(var.CW_VER_UC)]]>
         </Condition>
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).Marker' />
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).HCSFiles' />
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).CFFiles' />
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).ArmFiles' />
             <!-- Ver 10.2 -->
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).DscFiles' />
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).S12ZFiles' />
             <!--    -->
         <ComponentRef Id='C.CW_FOR_MCU_$(var.CW_VER_UC).LaunchFiles' />
         <ComponentGroupRef Id='Cg.UpdateSite' />
         <ComponentGroupRef Id='Cg.DeviceDataInstall' />
         <ComponentGroupRef Id='Cg.PatchCodewarriorWizardsCommon'/>
         <ComponentRef Id='C.PatchCodewarriorWizardsMenu_$(var.CW_VER_UC)' />
      </Feature>

   </Fragment>
</Wix>