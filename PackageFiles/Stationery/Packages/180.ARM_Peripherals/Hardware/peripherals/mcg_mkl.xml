<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE peripheralPage SYSTEM "_menu.dtd" >
<!-- mgc_mkl.xml -->

<peripheralPage xmlns:xi="http://www.w3.org/2001/XInclude" name="_instance" description="Multipurpose Clock Generator">

   <indexedCategory name="DummyClockConfig."  dim="/SIM/numberOfClockSettings"
         description="Clock configuration" 
         hidden="true"
         constant="true"
         derived="true"         
         toolTip="Clock configurations for different run modes"
         value="ClockConfig_."  >

      <binaryOption name="mcg_c8_lolre." 
         description="PLL Loss of Lock Reset Enable"
         toolTip="Determines if an interrupt or a reset request is made following a PLL loss of lock.\n
                  Only has an affect when CME1 is set">
         <choice value="0" name="Interrupt request" />
         <choice value="1" name="Reset request" />
      </binaryOption>
      
   </indexedCategory>
   
   <binaryOption name="mcg_c2_erefs0"
      description="External Reference Select" 
      toolTip="Determines whether a clock or crystal is used for the external reference clock"
      hidden="true" >
      <choice value="0" name="External clock" />
      <choice value="1" name="Oscillator" isDefault="true" />
   </binaryOption>
   
   <binaryOption name="mcg_c2_hgo0"
      description="Oscillator Gain" 
      toolTip="Controls the crystal oscillator mode of operation"
      hidden="true" >
      <choice value="0" name="Low power" isDefault="true"/>
      <choice value="1" name="High gain" />
   </binaryOption>
   

   <validate
      class="net.sourceforge.usbdm.deviceEditor.validators.ClockValidator_MCG" dim="/SIM/numberOfClockSettings" >
      <param type="long" value="1" />              <!-- mcg_c4_drst_drs   -->
      <param type="long" value="2000000" />        <!-- pllInMin     -->
      <param type="long" value="4000000" />        <!-- pllInMax     -->
      <param type="long" value="48000000" />       <!-- pllOutMin    -->
      <param type="long" value="120000000" />      <!-- pllOutMax    -->
      <param type="long" value="1" />              <!-- prDivMin     -->
      <param type="long" value="25" />             <!-- prDivMax     -->
      <param type="long" value="24" />             <!-- vDivMin    - available as pll_vdiv_min -->
      <param type="long" value="55" />             <!-- vDivMax      -->
      <param type="long" value="1" />              <!-- pllPostDiv - available as pll_post_divider -->
   </validate>
   
   <xi:include href="mcg_base.xml"/>

   <category name="Hardware bugs" description="">
      <binaryOption name="ERRATA_E2448" 
         description="Flash prefetch could result in incorrect read data"
         toolTip="Issue: Flash prefetch could result in incorrect read data when CLKDIV1 changed\n
         Workaround: Use code in RAM that disables/restores prefetch around changing CLKDIV1" >
         <choice value="0" name="No special handling" />
         <choice value="1" name="Special handing" isdefault="true" />
      </binaryOption>
      <binaryOption name="ERRATA_E7993" 
         description="FLL frequency may be incorrect"
         toolTip="Issue: FLL frequency may be incorrect after changing the FLL reference clock\n
         Workaround: Invert MCG_C4[DMX32] before clock source changes and restore afterwards">
         <choice value="0" name="No special handling" />
         <choice value="1" name="Special handing" isdefault="true" />
      </binaryOption>
   </category>

</peripheralPage>
