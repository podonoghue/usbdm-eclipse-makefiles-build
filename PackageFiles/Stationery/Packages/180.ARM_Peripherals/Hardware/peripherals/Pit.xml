<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE root SYSTEM "Menu.dtd" >
<!-- ftm.xml -->

<root xmlns:xi="http://www.w3.org/2001/XInclude">
   <menu name="_instance" description="Programmable Interrupt Timer">

      <intOption name="LDVAL" description="Reload value [0-65535]"
         toolTip="Value loaded in timer register on roll-over"
         value="10000" min="0" max="65535" />

      <binaryOption name="MCR_FRZ" description="Freeze in debug mode"
         toolTip="Controls whether the timer continues to run in debug mode">
         <choice value="0" name="Timers continue to run in debug mode" />
         <choice value="1" name="Timers are stopped in Debug mode" />
      </binaryOption>

      <binaryOption name="TCTRL_CHN1" description="Chain timers 1-0"
         toolTip="Controls whether the timer channels are chained to creater a larger counter">
         <choice value="0" name="Timers are not chained" />
         <choice value="1" name="Timers are chained" />
      </binaryOption>

      <binaryOption name="TCTRL_CHN3" description="Chain timers 3-2"
         toolTip="Controls whether the timer channels are chained to creater a larger counter">
         <choice value="0" name="Timers are not chained" />
         <choice value="1" name="Timers are chained" />
      </binaryOption>

      <binaryOption name="IRQ0_HANDLER" description="Handler for channel 0"
         toolTip="The interrupt handler may be a static member function or\nmay be set by use of the setCallback() method">
         <choice value="0" name="No handler installed" />
         <choice value="1" name="Handler installed" />
      </binaryOption>

      <binaryOption name="IRQ1_HANDLER" description="Handler for channel 1"
         toolTip="The interrupt handler may be a static member function or\nmay be set by use of the setCallback() method">
         <choice value="0" name="No handler installed" />
         <choice value="1" name="Handler installed" />
      </binaryOption>

      <binaryOption name="IRQ2_HANDLER" description="Handler for channel 2"
         toolTip="The interrupt handler may be a static member function or\nmay be set by use of the setCallback() method">
         <choice value="0" name="No handler installed" />
         <choice value="1" name="Handler installed" />
      </binaryOption>

      <binaryOption name="IRQ3_HANDLER" description="Handler for channel 3"
         toolTip="The interrupt handler may be a static member function or\nmay be set by use of the setCallback() method">
         <choice value="0" name="No handler installed" />
         <choice value="1" name="Handler installed" />
      </binaryOption>

      <intOption name="IRQ_LEVEL" description="IRQ Level in NVIC [0-15]"
         toolTip="Sets the priority level used to configure the NVIC"
         value="0" min="0" max="15" />
   </menu>
   <template>
      \t//! Default value for PIT->SC register\n
      \tstatic constexpr uint32_t loadValue  = $(LDVAL);\n\n
      \t//! PIT operation in debug mode\n
      \tstatic constexpr uint32_t mcrValue = ($(MCR_FRZ)&lt;&lt;PIT_MCR_FRZ_SHIFT);\n\n
       \t//! Default IRQ level\n
       \tstatic constexpr uint32_t irqLevel =  $(IRQ_LEVEL);\n\n
   </template>
</root>
