<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE peripheralPage SYSTEM "_menu.dtd" >
<!-- usb_def_clkrcv_regen.xml -->

<peripheralPage xmlns:xi="http://www.w3.org/2001/XInclude" name="_instance" description="USB">

   <xi:include href="default_instance.xml"/>
   <xi:include href="mapPinsOption_on.xml"/>

   <aliasOption key="/SIM/system_usb_clkin_clock"     locked="false" optional="true"/>

   <for keys="n" dim="/SIM/numberOfClockSettings" >
      <aliasCategoryOption key="/MCG/ClockConfig[%(n)]" >
         <aliasOption key="/SIM/system_peripheral_clock[%(n)]"    optional="true"/>
         <aliasOption key="/SIM/sim_sopt2_usbsrc[%(n)]"           locked="false" optional="true"/>
         <aliasOption key="/SIM/sim_clkdiv2_usb[%(n)]"            locked="false" optional="true"/>
         <aliasOption key="/SIM/system_usbfs_clock[%(n)]"         optional="true"/>
      </aliasCategoryOption>
   </for>

   <choiceOption key="usb_clk_enable"
      typeName="UsbIrc48mClockEnable"
      valueFormat="(%s)"
      description="IRC48M enable"
      toolTip="This is used to control when the the on-chip IRC48M module is enabled\n
               It will also be enabled if selected as a peripheral clock or MCG clock source if powered\n
               It can be used as a clock source for FS USB device mode operation">
      <choice value="USB_CLK_RECOVER_IRC_EN_IRC_EN(0)|USB_CLK_RECOVER_IRC_EN_REG_EN(0)"  enum="Disabled"         name="Power disabled - not available at all"                                        />
      <choice value="USB_CLK_RECOVER_IRC_EN_IRC_EN(0)|USB_CLK_RECOVER_IRC_EN_REG_EN(1)"  enum="Peripheral"       name="Available as general clock source"  isDefault="true"  />
      <choice value="USB_CLK_RECOVER_IRC_EN_IRC_EN(1)|USB_CLK_RECOVER_IRC_EN_REG_EN(1)"  enum="PeripheralAndUsb" name="Available as general and USB clock"  />
   </choiceOption>

   <xi:include href="usb_base_clkrcv.xml"/>

   <xi:include href="irqOption.xml"/>

   <xi:include href="clockOption.xml"/>

   <xi:include href="usb_base_files.xml"/>

   <signals/>

   <validate class="net.sourceforge.usbdm.deviceEditor.validators.PeripheralValidator" />

</peripheralPage>
