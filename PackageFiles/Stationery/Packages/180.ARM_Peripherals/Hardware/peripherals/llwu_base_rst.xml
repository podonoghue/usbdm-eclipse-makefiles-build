<?xml version="1.0" encoding="UTF-8"
?>
<!DOCTYPE peripheralPage SYSTEM "_menu.dtd" >
<!-- llwu_pe4_filt2_rst_base.xml -->

<fragment xmlns:xi="http://www.w3.org/2001/XInclude">
   <binaryOption 
      name="llwu_rst_llrste" 
      description="Low-Leakage Mode RESET Enable"
      toolTip="This bit must be set to allow the device to be reset while in a low-leakage power mode.\n
         On devices where Reset is not a dedicated pin, the RESET pin must also be enabled\n
         in the explicit port mux control" >
      <choice name="RESET pin not enabled as a LLWU mode exit source"  value="0" />
      <choice name="RESET pin enabled as a LLWU mode exit source"      value="1" isDefault="true" />
   </binaryOption>      
   
   <binaryOption 
      name="llwu_rst_rstfilt" 
      description="Digital Filter On RESET Pin"
      toolTip="Enables the digital filter for the RESET pin during LLS, VLLS3, VLLS2, or VLLS1 modes" >
      <choice name="Filter not enabled"  value="0" isDefault="true" />
      <choice name="Filter enabled"      value="1" />
   </binaryOption>      
   
   <template><![CDATA[
      \t// LLWU Reset Enable register
      \tstatic constexpr uint8_t rst =
      \t   LLWU_RST_LLRSTE($(llwu_rst_llrste)) |  // Low-Leakage Mode RESET Enable
      \t   LLWU_RST_RSTFILT($(llwu_rst_rstfilt));  // Digital Filter On RESET Pin\n\n
   ]]></template>

   <template name="llwu_base_init" namespace="all"  ><![CDATA[
      \t   llwu->RST   = Info::rst;\n
   ]]></template>
   
   <template name="llwu_base_methods" namespace="all"  ><![CDATA[
      \t/**
      \t * Controls Reset wake-up control
      \t *
      \t * @param llwuResetFilter  Whether filtering is applied to reset pin
      \t * @param llwuResetWakeup  Whether reset is enabled as a wake-up source
      \t */
      \tstatic void configureResetFilter(LlwuResetFilter llwuResetFilter, LlwuResetWakeup llwuResetWakeup=LlwuResetWakeup_Enabled) {
      \t   llwu->RST = llwuResetFilter|llwuResetWakeup;
      \t}\n
   ]]></template>

</fragment>
