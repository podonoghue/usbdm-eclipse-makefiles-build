<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE peripheralPage SYSTEM "_menu.dtd" >
<!-- mgc_mkl.xml -->

<peripheralPage xmlns:xi="http://www.w3.org/2001/XInclude" name="_instance" description="Multipurpose Clock Generator">

   <for keys="n" dim="/SIM/numberOfClockSettings">
      <category name=""
            hidden="true"
            constant="true"
            derived="true" >


      <binaryOption key="mcg_c8_cme1[%(n)]" 
         description="OSC1 (RTC) Clock Monitor Enable"
         toolTip="Determines if the clock monitor is enabled for the RTC external clock.\n
                  CME1 bit must be set to a logic 0 before the MCG enters any Stop mode">
         <choice value="0" name="Clock monitor disabled" />
         <choice value="1" name="Clock monitor enabled" />
      </binaryOption>
      
      <binaryOption key="mcg_c8_locre1[%(n)]" 
         description="OSC1 (RTC) Loss of Clock Reset Enable"
         toolTip="Determines if a interrupt or a reset request is made following a loss of RTC external reference clock.\n 
                  Only has an affect when CME1 is set" >
         <choice value="0" name="Interrupt request" />
         <choice value="1" name="Reset request" />
      </binaryOption>
      </category>
   </for>

   
   <!-- mcg_c2_erefs0 always 0 -->

   <!-- mcg_c2_hgo0 always 0 -->

   <validate
      class="net.sourceforge.usbdm.deviceEditor.validators.ClockValidator_MCG_no_pll" dim="/SIM/numberOfClockSettings" >
      <param type="long" value="1" />              <!-- mcg_c4_drst_drs max -->
   </validate>
   
   <xi:include href="mcg_base_nopll.xml"/>

   <category name="Hardware bugs" description="">
      <binaryOption key="ERRATA_E2448" 
         description="Flash prefetch could result in incorrect read data"
         toolTip="Issue: Flash prefetch could result in incorrect read data when CLKDIV1 changed\n
         Workaround: Use code in RAM that disables/restores prefetch around changing CLKDIV1" >
         <choice value="0" name="No special handling" />
         <choice value="1" name="Special handing" isDefault="true" />
      </binaryOption>
      <binaryOption key="ERRATA_E7993" 
         description="FLL frequency may be incorrect"
         toolTip="Issue: FLL frequency may be incorrect after changing the FLL reference clock\n
         Workaround: Invert MCG_C4[DMX32] before clock source changes and restore afterwards">
         <choice value="0" name="No special handling" />
         <choice value="1" name="Special handing" isDefault="true" />
      </binaryOption>
   </category>

</peripheralPage>
