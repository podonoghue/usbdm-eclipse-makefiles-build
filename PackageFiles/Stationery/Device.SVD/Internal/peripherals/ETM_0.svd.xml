<!--
Devices using this peripheral: 
      MK10D10
      MK10DZ10
      MK10F12
      MK11D5
      MK12D5
      MK20D10
      MK20DZ10
      MK20F12
      MK21D5
      MK21F12
      MK21FA12
      MK22D5
      MK22F12
      MK22F51212
      MK22FA12
      MK24F12
      MK24F25612
      MK30D10
      MK30DZ10
      MK40D10
      MK40DZ10
      MK50D10
      MK50DZ10
      MK51D10
      MK51DZ10
      MK52D10
      MK52DZ10
      MK53D10
      MK53DZ10
      MK60D10
      MK60DZ10
      MK60F12
      MK60F15
      MK61F15
      MK63F12
      MK64F12
      MK65F18
      MK66F18
      MK70F15
-->
      <peripheral>
         <?sourceFile "ETM_0" ?>
         <name>ETM</name>
         <description>Embedded Trace Macrocell</description>
         <groupName>ETM</groupName>
         <headerStructName>ETM</headerStructName>
         <baseAddress>0xE0041000</baseAddress>
         <size>32</size>
         <access>read-write</access>
         <resetValue>0x0</resetValue>
         <resetMask>0xFFFFFFFF</resetMask>
         <addressBlock>
            <offset>0x0</offset>
            <size>0xC</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x10</offset>
            <size>0x8</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x20</offset>
            <size>0xC</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x140</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x1E0</offset>
            <size>0xC</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x1F0</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x1F8</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x200</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x208</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0x314</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xEE0</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xEE8</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xEF0</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xEF8</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xF00</offset>
            <size>0x4</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xFA0</offset>
            <size>0x8</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xFB0</offset>
            <size>0xC</size>
            <usage>registers</usage>
         </addressBlock>
         <addressBlock>
            <offset>0xFCC</offset>
            <size>0x34</size>
            <usage>registers</usage>
         </addressBlock>
         <registers>
            <register>
               <name>CR</name>
               <description>Main Control Register</description>
               <addressOffset>0x0</addressOffset>
               <resetValue>0x411</resetValue>
               <fields>
                  <field>
                     <name>ETMPD</name>
                     <description>ETM power down. This bit can be used by an implementation to control if the ETM is in a low power state. This bit must be cleared by the trace software tools at the beginning of a debug session. \n
When this bit is set to 1, writes to some registers and fields might be ignored</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>PS</name>
                     <description>Port size. The ETM-M4 has no influence over the external pins used for trace. These bits are implemented but not used. \n
On an ETM reset these bits reset to 0b001</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>SP</name>
                     <description>Stall processor. The FIFOFULL output can be used to stall the processor to prevent overflow. The FIFOFULL output is only enabled when the stall processor bit is set to 1. When the bit is 0 the FIFOFULL output remains LOW at all times and the FIFO overflows if there are too many trace packets. Trace resumes without corruption once the FIFO has drained, if overflow does occur. An ETM reset sets this bit to 0</description>
                     <bitOffset>7</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>BO</name>
                     <description>Branch output. When set to 1 all branch addresses are output, even if the branch was because of a direct branch instruction. Setting this bit enables reconstruction of the program flow without having access to the memory image of the code being executed. When this bit is set to 1, more trace data is generated, and this may affect the performance of the trace system. Information about the execution of a branch is traced regardless of the state of this bit. An ETM reset sets this bit to 0</description>
                     <bitOffset>8</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>DRC</name>
                     <description>Debug request control. When set to 1 and the trigger event occurs, the DBGRQ output is asserted until DBGACK is observed. This enables the ARM processor to be forced into Debug state. An ETM reset sets this bit to 0</description>
                     <bitOffset>9</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>ETMP</name>
                     <description>ETM programming. This bit must be set to 1 at the start of the ETM programming sequence. Tracing is prevented while this bit is set to 1.\n
On an ETM reset this bit is set to b1</description>
                     <bitOffset>10</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>ETMPS</name>
                     <description>ETM port selection. This bit can be used to control other trace components in an implementation.\n
This bit must be set by the trace software tools to ensure that trace output is enabled from this ETM.\n
An ETM reset sets this bit to 0</description>
                     <bitOffset>11</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>ETMEN is LOW</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>ETMEN is HIGH</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>PM2</name>
                     <description>This bit is implemented but has no function.\n
An ETM reset sets this bit to 0</description>
                     <bitOffset>13</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>PM</name>
                     <description>These bits are implemented but have no function.\n
An ETM reset sets these bits to 0</description>
                     <bitOffset>16</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
                  <field>
                     <name>PS3</name>
                     <description>This bit is implemented but has no function.\n
An ETM reset sets this bit to 0</description>
                     <bitOffset>21</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>TE</name>
                     <description>When set, this bit enables timestamping. An ETM reset sets this bit to 0</description>
                     <bitOffset>28</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CCR</name>
               <description>Configuration Code Register</description>
               <addressOffset>0x4</addressOffset>
               <access>read-only</access>
               <resetValue>0x8C802000</resetValue>
               <fields>
                  <field>
                     <name>NumberOfAddressComparatorPairs</name>
                     <description>Number of address comparator pairs. The value of these bits is b0000, indicating that address comparator pairs are not implemented</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>NDVC</name>
                     <description>Number of data value comparators. The value of these bits is b0000, indicating that data value comparators are not implemented</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>NMMD</name>
                     <description>Number of memory map decoders. The value of these bits is b00000, indicating that memory map decoder inputs are not implemented</description>
                     <bitOffset>8</bitOffset>
                     <bitWidth>5</bitWidth>
                  </field>
                  <field>
                     <name>NC</name>
                     <description>Number of counters. The value of these bits is b001, indicating that one counter is implemented</description>
                     <bitOffset>13</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>SP</name>
                     <description>Sequencer present. The value of this bit is 0, indicating that the sequencer is not implemented</description>
                     <bitOffset>16</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>NEI</name>
                     <description>Number of external inputs. The value of these bits is between b000 and b010, indicating the number of external inputs, from 0 to 2, implemented in the system</description>
                     <bitOffset>17</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>NEO</name>
                     <description>Number of external outputs. The value of these bits is b000, indicating that no external outputs are supported</description>
                     <bitOffset>20</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>FFLP</name>
                     <description>FIFOFULL logic present. The value of this bit is 1, indicating that FIFOFULL logic is present in the ETM. To use FIFOFULL the system must also support the function, as indicated by bit [8] of ETMSCR</description>
                     <bitOffset>23</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>NCIDC</name>
                     <description>Number of Context ID comparators. The value of these bits is b00, indicating that Context ID comparators are not\n
implemented</description>
                     <bitOffset>24</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
                  <field>
                     <name>TSSBP</name>
                     <description>Trace start/stop block present. The value of this bit is 1, indicating that the Trace start/stop block is present</description>
                     <bitOffset>26</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>CMA</name>
                     <description>Coprocessor and memory access. The value of this bit is 1, indicating that memory-mapped access to registers is supported</description>
                     <bitOffset>27</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>ETMIDRP</name>
                     <description>The value of this bit is 1, indicating that the ETMIDR, register 0x79, is present and defines the ETM architecture version in use</description>
                     <bitOffset>31</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>TRIGGER</name>
               <description>Trigger Event Register</description>
               <addressOffset>0x8</addressOffset>
               <fields>
                  <field>
                     <name>TriggerEvent</name>
                     <description>Trigger event</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>17</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>SR</name>
               <description>ETM Status Register</description>
               <addressOffset>0x10</addressOffset>
               <fields>
                  <field>
                     <name>UOF</name>
                     <description>Untraced overflow flag. If set to 1, there is an overflow that has not yet been traced. This bit is cleared to 0 when either:\n
- trace is restarted\n
- the ETM Power Down bit, bit [0] of the ETM Control Register, 0x00, is set to 1.\n
Note: Setting or clearing the ETM programming bit does not cause this bit to be cleared to 0</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                     <access>read-only</access>
                  </field>
                  <field>
                     <name>Progbit</name>
                     <description>ETM programming bit value (Progbit). The current effective value of the ETM Programming bit (ETM Control Register bit [10]). Tou must wait for this bit to go to 1 before you start to program the ETM</description>
                     <bitOffset>1</bitOffset>
                     <bitWidth>1</bitWidth>
                     <access>read-only</access>
                  </field>
                  <field>
                     <name>Status</name>
                     <description>Holds the current status of the trace start/stop resource. If set to 1, it indicates that a trace on address has been matched, without a corresponding trace off address match</description>
                     <bitOffset>2</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>Trigger</name>
                     <description>Trigger bit. Set when the trigger occurs, and prevents the trigger from being output until the ETM is next programmed</description>
                     <bitOffset>3</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>SCR</name>
               <description>System Configuration Register</description>
               <addressOffset>0x14</addressOffset>
               <access>read-only</access>
               <resetValue>0x20D09</resetValue>
               <fields>
                  <field>
                     <name>MaximumPortSize</name>
                     <description>Maximum ETM port size bits [2:0]. These bits are used in conjunction with bit [9]. \n
The value of these bits is b001</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>FIFOFULLsupported</name>
                     <description>FIFOFULL supported. The value of this bit is 1, indicating that FIFOFULL is supported. This bit is used in conjunction with bit [23] of the ETMCCR</description>
                     <bitOffset>8</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>MaximumPortSize3</name>
                     <description>Maximum ETM port size bit [3]. This bit is used in conjunction with bits [2:0]. Its value is 0.\n
This has no effect on the TPIU trace port</description>
                     <bitOffset>9</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>PortSizeSupported</name>
                     <description>Port size supported. This bit reads as 1 if the currently selected port size is supported. \n
This has no effect on the TPIU trace port</description>
                     <bitOffset>10</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>PortModeSupported</name>
                     <description>Port mode supported. This bit reads as 1 if the currently selected port mode is supported. \n
This has no effect on the TPIU trace port</description>
                     <bitOffset>11</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>N</name>
                     <description>These bits give the number of supported processors minus 1. The value of these bits is b000, indicating that there is only one processor connected</description>
                     <bitOffset>12</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>NoFetchComparisons</name>
                     <description>No Fetch comparisons. The value of this bit is 1, indicating that fetch comparisons are not implemented</description>
                     <bitOffset>17</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>EEVR</name>
               <description>Trace Enable Event Register</description>
               <addressOffset>0x20</addressOffset>
               <fields>
                  <field>
                     <name>TraceEnableEvent</name>
                     <description>Trace Enable event</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>17</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>TECR1</name>
               <description>Trace Enable Control 1 Register</description>
               <addressOffset>0x24</addressOffset>
               <fields>
                  <field>
                     <name>TraceControlEnable</name>
                     <description>Trace start/stop enable.\n
The trace start/stop resource, resource 0x5F, is unaffected by the value of this bit</description>
                     <bitOffset>25</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>Tracing is unaffected by the trace start/stop logic</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>Tracing is controlled by the trace on and off addresses configured for the trace start/stop logic</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
               </fields>
            </register>
            <register>
               <name>FFLR</name>
               <description>FIFOFULL Level Register</description>
               <addressOffset>0x28</addressOffset>
               <fields>
                  <field>
                     <name>FIFOFullLevel</name>
                     <description>FIFO full level. The number of bytes left in FIFO, below which the FIFOFULL or SupressData signal is asserted. For example, setting this value to 15 causes data trace suppression or processor stalling, if enabled, when there are less than 15 free bytes in the FIFO</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CNTRLDVR1</name>
               <description>Free-running counter reload value</description>
               <addressOffset>0x140</addressOffset>
               <fields>
                  <field>
                     <name>IntitialCount</name>
                     <description>Initial count</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>16</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>SYNCFR</name>
               <description>Synchronization Frequency Register</description>
               <addressOffset>0x1E0</addressOffset>
               <access>read-only</access>
               <resetValue>0x400</resetValue>
               <fields>
                  <field>
                     <name>SyncFrequency</name>
                     <description>Synchronization frequency. Default value is 1024</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>12</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>IDR</name>
               <description>ID Register</description>
               <addressOffset>0x1E4</addressOffset>
               <access>read-only</access>
               <resetValue>0x4114F250</resetValue>
               <fields>
                  <field>
                     <name>ImplementationRevision</name>
                     <description>Implementation revision. The value of these bits is b0000, indicating implementation revision, 0</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>MinorETMarchitectureVersion</name>
                     <description>Minor ETM architecture version. The value of these bits is 0b0101, indicating minor architecture version number 5</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>MajorETMarchitectureVersion</name>
                     <description>Major ETM architecture version. The value of these bits is 0b0010, indicating major architecture version number 3, ETMv3</description>
                     <bitOffset>8</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>ProcessorFamily</name>
                     <description>Processor family. The value of these bits is 0b1111, indicating that the processor family is not identified in this register</description>
                     <bitOffset>12</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>LoadPCfirst</name>
                     <description>Load PC first. The value of this bit is 0, indicating that data tracing is not supported</description>
                     <bitOffset>16</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>ThumbInstructionTracing</name>
                     <description>32-bit Thumb instruction tracing. The value of this bit is 1, indicating that a 32-bit Thumb instruction is traced as a single instruction</description>
                     <bitOffset>18</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>A 32-bit Thumb instruction is traced as two instructions, and exceptions might occur between these two instructions</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>A 32-bit Thimb instruction is traced as a single instruction</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>SecurityExtensionSupport</name>
                     <description>Security Extensions support. The value of this bit is 0, indicating that the ETM behaves as if the processor is in Secure state at all times</description>
                     <bitOffset>19</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>The ETM behaves as if the processor is in Secure state at all times</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>The ARM architecture Security Extensions are implemented by the processor</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>BranchPacketEncoding</name>
                     <description>Branch packet encoding. The value of this bit is 1, indicating that alternative branch packet encoding is implemented</description>
                     <bitOffset>20</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>The ETM implements the original branch packet encoding</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>The ETM implements the alternative branch packet encoding</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>ImplementorCode</name>
                     <description>Implementor code. These bits identify ARM as the implementor of the processor. The value of these bits is 01000001</description>
                     <bitOffset>24</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CCER</name>
               <description>Configuration Code Extension Register</description>
               <addressOffset>0x1E8</addressOffset>
               <access>read-only</access>
               <resetValue>0x18541800</resetValue>
               <fields>
                  <field>
                     <name>ExtendedExternalInputSelectors</name>
                     <description>Extended external input selectors. The value of these bits is 0, indicating that extended external input selectors are not implemented</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>ExtendedExternalInputBus</name>
                     <description>Extended external input bus. The value of these bits is 0, indicating that the extended external input bus is not implemented</description>
                     <bitOffset>3</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
                  <field>
                     <name>ReadableRegisters</name>
                     <description>Readable registers. The value of this bit is 1, indicating that all registers are readable</description>
                     <bitOffset>11</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>DataAddressComparisons</name>
                     <description>Data address comparisons. The value of this bit is 1, indicating that data address comparisons are not supported</description>
                     <bitOffset>12</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>InstrumentationResources</name>
                     <description>Instrumentation resources. The value of these bits is 0b000, indicating that no Instrumentation resources are supported</description>
                     <bitOffset>13</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>EmbeddedICEwatchpointInputs</name>
                     <description>EmbeddedICE watchpoint inputs. The value of these bits is 0b0100, indicating that the number of EmbeddedICE watchpoint inputs implemented is four. These inputs come from the DWT</description>
                     <bitOffset>16</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>TraceStartStopBlockUsesEmbeddedICEwatchpointInputs</name>
                     <description>Trace Start/Stop block uses EmbeddedICE watchpoint inputs. The value of this bit is 1, indicating that the Trace Start/Stop block uses the EmbeddedICE watchpoint inputs</description>
                     <bitOffset>20</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>EmbeddedICEbehaviorControlImplemented</name>
                     <description>EmbeddedICE behavior control implemented. The value of this bit is 0, indicating that the ETMEIBCR is not implemented</description>
                     <bitOffset>21</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>TimestampingImplemented</name>
                     <description>Timestamping implemented. This bit is set to 1, indicating that timestamping is implemented</description>
                     <bitOffset>22</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>ReducedFunctionCounter</name>
                     <description>Reduced function counter. Set to 1 to indicate that Counter 1 is a reduced function counter</description>
                     <bitOffset>27</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>TimestampEncoding</name>
                     <description>Timestamp encoding. Set to 1 to indicate that the timestamp is encoded as a natural binary number</description>
                     <bitOffset>28</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>TimestampSize</name>
                     <description>Timestamp size. Set to 0 to indicate a size of 48 bits</description>
                     <bitOffset>29</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>TESSEICR</name>
               <description>TraceEnable Start/Stop EmbeddedICE Control Register</description>
               <addressOffset>0x1F0</addressOffset>
               <fields>
                  <field>
                     <name>StartResourceSelection</name>
                     <description>Start resource selection. Setting any of these bits to 1 selects the corresponding EmbeddedICE watchpoint input as a TraceEnable start resource. Bit [0] corresponds to input 1, bit [1] corresponds to input 2, bit [2] corresponds to input 3, and bit [3] corresponds to input 4</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>StopResourceSelection</name>
                     <description>Stop resource selection. Setting any of these bits to 1 selects the corresponding EmbeddedICE watchpoint input as a TraceEnable stop resource. Bit [16] corresponds to input 1, bit [17] corresponds to input 2, bit [18] corresponds to input 3, and bit [19] corresponds to input 4</description>
                     <bitOffset>16</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>TSEVR</name>
               <description>Timestamp Event Register</description>
               <addressOffset>0x1F8</addressOffset>
               <fields>
                  <field>
                     <name>TimestampEvent</name>
                     <description>Timestamp event</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>12</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>TRACEIDR</name>
               <description>CoreSight Trace ID Register</description>
               <addressOffset>0x200</addressOffset>
               <fields>
                  <field>
                     <name>TraceID</name>
                     <description>Trace ID to output onto the trace bus.\n
On an ETM reset this field is cleared to 0x00</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>7</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>IDR2</name>
               <description>ETM ID Register 2</description>
               <addressOffset>0x208</addressOffset>
               <size>32</size>
               <access>read-only</access>
            </register>
            <register>
               <name>PDSR</name>
               <description>Device Power-Down Status Register</description>
               <addressOffset>0x314</addressOffset>
               <access>read-only</access>
               <resetValue>0x1</resetValue>
               <fields>
                  <field>
                     <name>ETMpoweredup</name>
                     <description>The value of this bit indicates whether you can access the ETM Trace Registers. The value of this bit is always 1, indicating that the ETM Trace Registers can be accessed</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>_ITMISCIN</name>
               <description>Integration Test Miscelaneous Inputs Register</description>
               <addressOffset>0xEE0</addressOffset>
               <access>read-only</access>
               <fields>
                  <field>
                     <name>EXTIN</name>
                     <description>A read of these bits returns the value of the EXTIN[1:0] input pins</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
                  <field>
                     <name>COREHALT</name>
                     <description>A read of this bit returns the value of the COREHALT input pin</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>_ITTRIGOUT</name>
               <description>Integration Test Trigger Out Register</description>
               <addressOffset>0xEE8</addressOffset>
               <access>write-only</access>
               <fields>
                  <field>
                     <name>TRIGGER</name>
                     <description>A write to this bit sets the TRIGGER output</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>_ITATBCTR2</name>
               <description>ETM Integration Test ATB Control 2 Register</description>
               <addressOffset>0xEF0</addressOffset>
               <access>read-only</access>
               <fields>
                  <field>
                     <name>ATREADY</name>
                     <description>A read of this bit returns the value of the ETM ATREADY input</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>_ITATBCTR0</name>
               <description>ETM Integration Test ATB Control 0 Register</description>
               <addressOffset>0xEF8</addressOffset>
               <access>write-only</access>
               <fields>
                  <field>
                     <name>ATVALID</name>
                     <description>A write to this bit sets the value of the ETM ATVALID output</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>ITCTRL</name>
               <description>Integration Mode Control Register</description>
               <addressOffset>0xF00</addressOffset>
               <fields>
                  <field>
                     <name>Mode</name>
                     <description>Enable integration mode. When this bit is set to 1, the device enters integration mode to enable Topology Detection or Integration Testing to be checked. \n
On an ETM reset this bit is cleared to 0</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CLAIMSET</name>
               <description>Claim Tag Set Register</description>
               <addressOffset>0xFA0</addressOffset>
               <fields>
                  <field>
                     <name>CLAIMSET</name>
                     <description>A bit programmable register bank which sets the Claim Tag Value.\n
Write 1 to set the bit in the claim tag. A read will return a logic 1 for all implemented locations</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CLAIMCLR</name>
               <description>Claim Tag Clear Register</description>
               <addressOffset>0xFA4</addressOffset>
               <fields>
                  <field>
                     <name>CLAIMCLR</name>
                     <description>A bit programmable register bank that is zero at reset.\n
Write 1 to clear the bit in the claim tag. On reads, returns the current setting of the claim tag</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>LAR</name>
               <description>Lock Access Register</description>
               <addressOffset>0xFB0</addressOffset>
               <fields>
                  <field>
                     <name>WriteAccessCode</name>
                     <description>Write Access Code. A write of 0xC5ACCE55 enables further write access to this device. An invalid write will have the affect of removing write access</description>
                     <bitOffset>0</bitOffset>
                  </field>
               </fields>
            </register>
            <register>
               <name>LSR</name>
               <description>Lock Status Register</description>
               <addressOffset>0xFB4</addressOffset>
               <access>read-only</access>
               <fields>
                  <field>
                     <name>IMP</name>
                     <description>Lock mechanism is implemented. This bit always reads 1</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
                  <field>
                     <name>STATUS</name>
                     <description>Lock Status. This bit is HIGH when the device is locked, and LOW when unlocked</description>
                     <bitOffset>1</bitOffset>
                     <bitWidth>1</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0</name>
                           <description>Access permitted</description>
                           <value>0b0</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1</name>
                           <description>Write access to the component is blocked. All writes to control registers are ignored. Reads are permitted</description>
                           <value>0b1</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>s8BIT</name>
                     <description>Access Lock Register size. This bit reads 0 to indicate a 32-bit register is present</description>
                     <bitOffset>2</bitOffset>
                     <bitWidth>1</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>AUTHSTATUS</name>
               <description>Authentication Status Register</description>
               <addressOffset>0xFB8</addressOffset>
               <access>read-only</access>
               <fields>
                  <field>
                     <name>NSID</name>
                     <description>Reads as b00, Non-secure invasive debug not supported by the ETM</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
                  <field>
                     <name>NSNID</name>
                     <description>Permission for Non-secure non-invasive debug</description>
                     <bitOffset>2</bitOffset>
                     <bitWidth>2</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b10</name>
                           <description>Non-secure non-invasive debug disabled</description>
                           <value>0b10</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b11</name>
                           <description>Non-secure non-invasive debug enabled</description>
                           <value>0b11</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>SID</name>
                     <description>Reads as b00, Secure invasive debug not supported by the ETM</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
                  <field>
                     <name>SNID</name>
                     <description>Permission for Secure non-invasive debug</description>
                     <bitOffset>6</bitOffset>
                     <bitWidth>2</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>DEVTYPE</name>
               <description>CoreSight Device Type Register</description>
               <addressOffset>0xFCC</addressOffset>
               <access>read-only</access>
               <resetValue>0x13</resetValue>
               <fields>
                  <field>
                     <name>MajorType</name>
                     <description>Major Type and Class</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0011</name>
                           <description>Trace source</description>
                           <value>0b0011</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
                  <field>
                     <name>SubType</name>
                     <description>Sub Type</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0001</name>
                           <description>Processor trace</description>
                           <value>0b0001</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
               </fields>
            </register>
            <register>
               <name>PIDR4</name>
               <description>Peripheral Identification Register 4</description>
               <addressOffset>0xFD0</addressOffset>
               <access>read-only</access>
               <resetValue>0x4</resetValue>
               <fields>
                  <field>
                     <name>JEP106</name>
                     <description>JEP106 continuation code</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>c4KB</name>
                     <description>4KB Count</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>PIDR5</name>
               <description>Peripheral Identification Register 5</description>
               <addressOffset>0xFD4</addressOffset>
               <size>32</size>
               <access>read-only</access>
            </register>
            <register>
               <name>PIDR6</name>
               <description>Peripheral Identification Register 6</description>
               <addressOffset>0xFD8</addressOffset>
               <size>32</size>
               <access>read-only</access>
            </register>
            <register>
               <name>PIDR7</name>
               <description>Peripheral Identification Register 7</description>
               <addressOffset>0xFDC</addressOffset>
               <size>32</size>
               <access>read-only</access>
            </register>
            <register>
               <name>PIDR0</name>
               <description>Peripheral Identification Register 0</description>
               <addressOffset>0xFE0</addressOffset>
               <access>read-only</access>
               <resetValue>0x25</resetValue>
               <fields>
                  <field>
                     <name>PartNumber</name>
                     <description>Part Number [7:0]</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>PIDR1</name>
               <description>Peripheral Identification Register 1</description>
               <addressOffset>0xFE4</addressOffset>
               <access>read-only</access>
               <resetValue>0xB9</resetValue>
               <fields>
                  <field>
                     <name>PartNumber</name>
                     <description>Part Number [11:8]</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>JEP106_identity_code</name>
                     <description>JEP106 identity code [3:0]</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>PIDR2</name>
               <description>Peripheral Identification Register 2</description>
               <addressOffset>0xFE8</addressOffset>
               <access>read-only</access>
               <resetValue>0xB</resetValue>
               <fields>
                  <field>
                     <name>JEP106_identity_code</name>
                     <description>JEP106 identity code [6:4]</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>3</bitWidth>
                  </field>
                  <field>
                     <name>Revision</name>
                     <description>Revision</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>PIDR3</name>
               <description>Peripheral Identification Register 3</description>
               <addressOffset>0xFEC</addressOffset>
               <access>read-only</access>
               <fields>
                  <field>
                     <name>CustomerModified</name>
                     <description>Customer Modified</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>RevAnd</name>
                     <description>RevAnd</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CIDR0</name>
               <description>Component Identification Register 0</description>
               <addressOffset>0xFF0</addressOffset>
               <access>read-only</access>
               <resetValue>0xD</resetValue>
               <fields>
                  <field>
                     <name>Preamble</name>
                     <description>Preamble</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CIDR1</name>
               <description>Component Identification Register 1</description>
               <addressOffset>0xFF4</addressOffset>
               <access>read-only</access>
               <resetValue>0x90</resetValue>
               <fields>
                  <field>
                     <name>Preamble</name>
                     <description>Preamble</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>4</bitWidth>
                  </field>
                  <field>
                     <name>ComponentClass</name>
                     <description>Component class</description>
                     <bitOffset>4</bitOffset>
                     <bitWidth>4</bitWidth>
                     <enumeratedValues>
                        <enumeratedValue>
                           <name>0b0001</name>
                           <description>ROM table</description>
                           <value>0b0001</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1001</name>
                           <description>CoreSight component</description>
                           <value>0b1001</value>
                        </enumeratedValue>
                        <enumeratedValue>
                           <name>0b1111</name>
                           <description>PrimeCell of system component with no standardized register layout, for backward compatibility</description>
                           <value>0b1111</value>
                        </enumeratedValue>
                     </enumeratedValues>
                  </field>
               </fields>
            </register>
            <register>
               <name>CIDR2</name>
               <description>Component Identification Register 2</description>
               <addressOffset>0xFF8</addressOffset>
               <access>read-only</access>
               <resetValue>0x5</resetValue>
               <fields>
                  <field>
                     <name>Preamble</name>
                     <description>Preamble</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
            <register>
               <name>CIDR3</name>
               <description>Component Identification Register 3</description>
               <addressOffset>0xFFC</addressOffset>
               <access>read-only</access>
               <resetValue>0xB1</resetValue>
               <fields>
                  <field>
                     <name>Preamble</name>
                     <description>Preamble</description>
                     <bitOffset>0</bitOffset>
                     <bitWidth>8</bitWidth>
                  </field>
               </fields>
            </register>
         </registers>
      </peripheral>
